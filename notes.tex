\documentclass{article} 
\usepackage{tikz-cd}
\usepackage{amssymb}
\usepackage{bm}

\newcommand{\myparagraph}[1]{\paragraph{#1}\mbox{}\\}
\newcommand{\cat}[1]{\mathcal{#1}} % category syntax
\newcommand{\cato}[1]{\cat{#1}_0} % objects of category
\newcommand{\catm}[1]{\cat{#1}_1} % morphisms of category
\newcommand{\ob}[1]{\mathsf{#1}} % category object syntax
\newcommand{\scat}{\cat{C}\ob{at}}
\newcommand{\catop}[1]{\cat{#1}^{op}}
\newcommand{\catopo}[1]{(\catop{#1})_0}
\newcommand{\catopm}[1]{(\catop{#1})_1}
\newcommand{\all}{\enspace \forall}
\newcommand{\allin}[2]{\all #1 \in #2}
\newcommand{\limc}[1]{\bm{Lim}#1}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{compositionlaw}[theorem]{Composition Law}
\newtheorem{alg}[theorem]{Algorithm}



\begin{document}

\title {Category theory notes}
\maketitle

\section{Definition of a category}
\begin{definition}
	A category $\cat{C}$ has objects $\ob{a}$ and arrows $f: \ob{a} \rightarrow \ob{b}$ between objects.
	$\cato{C}$ denotes the objects of catogory $\cat{C}$ and $\catm{C}$ denotes its arrows.
	For an arrow $f: \ob{a} \rightarrow \ob{b}$ the object $\ob{a}$ is called its domain and $\ob{b}$ its codomain: also denoted $\ob{a} = dom(f)$ and $\ob{b} = cod(f)$.
	A category $\cat{C}$ must adhere to the following \textbf{axioms}:
	\begin{itemize}
		\item if $f$ and $g$ are two functions such that $cod(f)=dom(g)$, then the composition $gf$ (or $g.f$) is a function from $dom(f)$ to $cod(g)$:

		\begin{tikzcd}
			(\ob{a} \arrow[r,"f"] & \ob{b} \arrow[r,"g"] & \ob{c}) \quad {\displaystyle \mapsto} \quad ( \ob{a} \arrow[r, "gf"] & \ob{c})
		\end{tikzcd}
		\item composition of arrows is \textbf{associative}: i.e. given $f: \ob{a} \rightarrow \ob{b}$, $g: \ob{b} \rightarrow \ob{c}$ and $h: \ob{c} \rightarrow \ob{d}$, then $(hg)f = h(gf): \ob{a} \rightarrow \ob{d}$
		\item every element $\ob{a} \in \cato{C}$ has an identity arrow $id_{\ob{a}}: \ob{a} \rightarrow \ob{a}$ satisfying $id_{\ob{a}}.f = f \allin{f}{\catm{C}}$ with $cod(f)=\ob{a}$ and
		$g.id_{\ob{a}} = g \allin{g}{\catm{C}}$ with $dom(g)=\ob{a}$.
	\end{itemize}
\end{definition}


\begin{example}

	A \textbf{preorder} is a set $X$ together with a binary relation $\leq$ which is
	\begin{itemize}
		\item reflexive: i.e. $x \leq x \allin{x}{X} $
		\item transitive: i.e. $x \leq y, y \leq z \Rightarrow x \leq z \allin{x,y,z}{X}$
	\end{itemize}
	any such a preorder can be seen as a category $\cat{C}$ with elements being the objects of $X$ and a unique arrow $x \rightarrow y$ iff $x \leq y$.

\end{example}

\begin{example}
	A \textbf{monoid} is a set $X$ with a binary operation, written like multiplication $xy$ for $x,y \in X$ which is associative and has a unit element $e \in X$ such that $ex = xe = x \allin{x}{X}$.
	A monoid can be interpreted as a category with one object and one arrow $x$ for every $x \in X$.
\end{example}

\begin{example}
	$Top$, $Grp$, $Mon$, $Rng$, $Grph$, $Pos$ are the categories with \textbf{topological spaces, groups, monoids, rings, graphs, posets} as objects and their respective homomorphisms (structure preserving functions) as arrows.
	$Set$ is the category of sets with functions between sets as arrows.
\end{example}

\begin{definition}
	A category $\cat{C}$ is called \textbf{small} iff both $\cato{C}$ and $\catm{C}$ are sets. The category is called \textbf{locally small}
	iff for any two objects $\ob{a},\ob{b} \in \cat{C}$ the set of morphisms between $\ob{a}$ and $\ob{b}$ (denoted $Hom(\ob{a},\ob{b})$) is a set.
\end{definition}

\begin{definition}
	Let $\cat{C}$ be a category, the \textbf{oposite category} is denoted $\catop{C}$. This category has the same objects, but arrows pointing the other way.
	I.e. if $f: \ob{a} \rightarrow \ob{b}$ in $\catm{C}$, then $\bar{f}: \ob{b} \rightarrow \ob{a}$ in $\catopo{C}$. Composition of arrows is defined as $\bar{f}\bar{g} = \bar{gf}$.
\end{definition}

\begin{definition}
	An arrow $f: \ob{a} \rightarrow \ob{b}$ is called a \textbf{monomorphism} if for any other object $\ob{c}$ and morphisms $g,h: \ob{c} \rightarrow \ob{a}$ $fg = fh$ implies $g=h$.
	The arrow is called \textbf{epimorphism} if for any object $\ob{c}$ and morphisms $g,h: \ob{b} \rightarrow \ob{c}$ $gf = hf$ implies $g=h$.
\end{definition}

\begin{lemma}
	Monomorphisms in $Set$ correspond to injective functions, where epimorphisms in $Set$ correspond to surjective functions.
\end{lemma}

\begin{lemma}
	If $gf$ is mono, then $f$ is mono, so by duality: if $fg$ is epi, then $f$ is epi.
\end{lemma}

\begin{definition}
	An epi $f: \ob{a} \rightarrow \ob{b}$ is called \textbf{split epi} if $\exists g: \ob{b} \rightarrow \ob{a}$ such that $fg = id_{\ob{b}}$.
	Dually a mono $f: \ob{a} \rightarrow \ob{b}$ is called \textbf{split mono} if $\exists g: \ob{b} \rightarrow \ob{a}$ such that $gf = id_{\ob{a}}$.
\end{definition}

\begin{definition}
	A morphism $f: \ob{a} \rightarrow \ob{b}$ is called an \textbf{isomorphism} if $\exists g: \ob{b} \rightarrow \ob{a}$ such that $fg = id_{\ob{b}}$ and and $gf = id_{\ob{a}}$.
	In this case the objects $\ob{a}$ and $\ob{b}$ are called \textbf{isomorphic}.
\end{definition}

\begin{lemma}
	\begin{itemize}
		\item if two of $f, g$ and $fg$ are iso, then so is the third
		\item if $f$ is epi and split mono, it is iso
		\item if $f$ is split epi and mono, it is iso
	\end{itemize}
\end{lemma}

\begin{definition}
	An object $\ob{a} \in \cato{C}$ is called a \textbf{terminal object} if for any other object $\ob{b} \in \cato{C}$ there is a unique arrow $f: \ob{b} \rightarrow \ob{a}$.
	(E.g. singletons are terminal objects in $Set$) Similarly an object $\ob{a} \in \cato{C}$ is called a \textbf{initial object} if for ano other object $\ob{b} \in \cato{C}$ there is a unique arrow $f: \ob{a} \rightarrow \ob{b}$.
	(E.g. the empty set is the only initial object in $Set$.)
\end{definition}

\begin{lemma}
	Any two terminal objects are isomorphic. Same for any two initial objects.
\end{lemma}





\section{Functors and natural morphisms}

\begin{definition}
	A functor $F$ from a category $\cat{C}$ to a category $\cat{D}$ consists of operations $F_0: \cato{C} \rightarrow \cato{D}$ and $F_1: \catm{C} \rightarrow \catm{D}$ such that the following holds:
	\begin{itemize}
			\item for each $f: \ob{a} \rightarrow \ob{b}$ in $\cat{C}$: $F_1(f): F_0(\ob{a}) \rightarrow F_0(\ob{b})$
			\item for each
			\begin{tikzcd}
				\ob{a} \arrow[r, "f"] & \ob{b} \arrow[r, "g"] & \ob{c}
			\end{tikzcd}: $F_1(gf) = F_1(g)F_1(f)$.
			\item $F_0(id_{\ob{a}}) = id_{F_0(\ob{a})}$ for each $a \in \cat{C}$
	\end{itemize}
\end{definition}

\begin{definition}
	An endofunctor is a functor $F$ from a category $\cat{C}$ to itself.
\end{definition}

\begin{definition}
	A functor $F: \cat{C} \rightarrow \cat{D}$ is called \textbf{covariant}, whereas a functor $F: \catop{C} \rightarrow \cat{D}$ is called \textbf{contravariant}.
\end{definition}

Since functors are composable, the following definition can be made:

\begin{definition}
	$\scat$ is the category whose objects are \textbf{small categories} and whose morphisms are functors between those categories.
\end{definition}

Now that functors are defined, its time to define natural morphisms:

\begin{definition}
	Let $F, G: \cat{C} \rightarrow \cat{D}$ be two functors of categories $\cat{C}$ and $\cat{D}$: a \textbf{natural morphism} $\alpha: F \Rightarrow G$ is a set of morphisms
	$\alpha_{\ob{a}}: F(\ob{a}) \rightarrow G(\ob{a})$ for any object $\ob{a} \in \cato{C}$ such that for any arrow $f: \ob{a} \rightarrow \ob{b}$ in $\catm{C}$ the following diagram in $\cat{D}$ commutes:

	\begin{tikzcd}
		F(\ob{a}) \arrow[r, "F(f)"] \arrow[d, "\alpha_{\ob{a}}"] & F(\ob{b}) \arrow[d, "\alpha_{\ob{b}}"] \\
		G(\ob{a}) \arrow[r, "G(f)"] & G(\ob{b})
	\end{tikzcd}
\end{definition}

\begin{definition}
	A natural transformation $\alpha: F \Rightarrow G$ is called a \textbf{natural isomorphism} iff its components $\alpha_{\ob{a}} \ob{a} \in \cat{C}$ are isomorphisms.
\end{definition}

\begin{definition}
	Let $\cat{C}$ and $\cat{D}$ be categories. We can define the \textbf{Functor category} which is denoted as either $\cat{D}^{\cat{C}}$ or $[\cat{C}, \cat{D}]$ as follows:
	\begin{itemize}
		\item objects of this category are functors $F: \cat{C} \rightarrow \cat{D}$
		\item morphisms between two such functors $F$ and $G$ are natural transformations $\alpha: F \Rightarrow G$
	\end{itemize}
\end{definition}

\begin{definition}
	Actually a category like $\scat$ which has morphisms and natural transformations between morphisms is called a \textbf{2-category}.
\end{definition}

\begin{definition}
	Let $\cat{C}$ and $\cat{D}$ be two categories, the \textbf{product category} or \textbf{cartesian product of categories} $\cat{C} \times \cat{D}$ has objects $(\ob{a}, \ob{b})$
	where $\ob{a} \in \cato{C}$ and $\ob{b} \in \cato{D}$ and morphisms $(f,b): (\ob{a}, \ob{b}) \rightarrow (\ob{a'}, \ob{b'})$ where $f: \ob{a} \rightarrow \ob{a'} \in \catm{C}$ and $g: \ob{b} \rightarrow \ob{b'} \in \catm{D}$.
\end{definition}

\begin{definition}
	A functor from any product category to another category is called a \textbf{bifunctor}.
\end{definition}

\begin{definition}
	A functor $F: \cat{C} \rightarrow \cat{D}$ is called \textbf{faithfull} if its induced function $F_1: Hom(\ob{a}, \ob{b}) \rightarrow Hom(F(\ob{a}), F(\ob{b}))$ is injective for any two objects $\ob{a}, \ob{b} \in \cat{C}$.
	It's called \textbf{full} if this induced function is surjective for any two objects $\ob{a}, \ob{b} \in \cat{C}$.
\end{definition}

\begin{definition}
	A functor \textbf{reflects} a property if, whenever the image (of objects or arrows) has a property, then the origin has the property too.
\end{definition}

\begin{lemma}
	Faithfull functors reflect epis and monos
\end{lemma}

\begin{lemma}
	Full and Faithfull functors reflect property of being initial or terminal object.
\end{lemma}




\section{limits and colimits}

\begin{definition}
	Let $F: \cat{C} \rightarrow \cat{D}$ be a functor between categories. A \textbf{cone} for $F$ exists of an object $\ob{d} \in \cato{D}$ and a natural transformation $\mu: \Delta_\ob{d} \Rightarrow F$.
	($\Delta_\ob{d}$ is the constant functor which sends all objects to $\ob{d}$ and all arrows to $id_{\ob{d}}$.)
	So $\mu$ is a family of morphisms $(\mu_\ob{c}: \ob{d} \rightarrow F(\ob{c})| \ob{c} \in \cato{C})$ such that for any morphism \\
	$f: \ob{c} \rightarrow \ob{c}'$ in $\cat{C}$ the following diagram commutes:
	\begin{tikzcd}
		& \ob{d} \arrow[ld, "\mu_\ob{c}" left, near start] \arrow[rd, "\mu_\ob{c}'"] \\
		F(\ob{c}) \arrow[rr, "F(f)"] & & F(\ob{c}')
	\end{tikzcd}
	This cone is denoted as $(\ob{d}, \mu)$ and $\ob{d}$ is called the \textbf{vertex} of the cone.
	In fact, cones of $F$ form a category with morphisms $f: (\ob{d}, \mu) \rightarrow (\ob{d}', \mu')$ being a morphism $f: \ob{d} \rightarrow \ob{d}'$ in $\catm{C}$ such that $\mu'_\ob{c}g = \mu_\ob{c}$
	for any $\ob{c} \in \cato{C}$. I.e. the following diagram commutes for any $\ob{c} \in \cato{C}$:
	\begin{tikzcd}
		\ob{d} \arrow[rr, "g"] \arrow[dr, "\mu_\ob{c}"] & & \ob{d}' \arrow[dl, "\mu_\ob{c}'"] \\
		& F(\ob{c})
	\end{tikzcd}
	So all cones over $F$ form a category, which is denoted $Cone(F)$.
\end{definition}

Note that the codomain of $F$ in the previous definition is regularly called the \textbf{diagram of $\cat{C}$ in $\cat{D}$} and the category $\cat{C}$ is called the \textbf{index category} of this diagram.

\begin{definition}
	Let $F$ be as in the previous definition. The terminal object in the category $Cone(F)$ is called the \textbf{limiting cone} for $F$ or \textbf{limit} for the diagram $F$. It is also sometimes denoted $\limc{F}$.
	Note that I say \textbf{the} terminal object because terminal objects are unique up to unique isomorphism.

\end{definition}

Now its natural to define the co-definition for cones and limits:

\begin{definition}
	Let $F: \cat{E} \rightarrow \cat{C}$ be a functor. A \textbf{cocone} for this functor is a pair $(\nu, \ob{d})$ where $\ob{d}$ is an object in $\cat{C}$ and $\nu: F \Rightarrow \Delta_D$ is a natural transformation.
	So a morphism $f: (\nu, \ob{d}) \rightarrow (\nu', \ob{d}')$ in the category of cocones of $F$ are morphisms $f: \ob{d} \rightarrow \ob{d}'$ such that for any $\ob{e} \in \cato{E}$ the following diagram commutes:
	\begin{tikzcd}
		& F(\ob{c}) & \\
		\ob{d} \arrow[ru, "\nu_\ob{c}"] \arrow[rr, "f"] & & \ob{d}' \arrow[lu, "\mu_\ob{c}'"]
	\end{tikzcd}
	The \textbf{colimit} for $F$ is the initial object in the category of cocones over $F$.
\end{definition}

Now I will give a few examples of limits and colimits:

\begin{example}
	Let $\ob{c}, \ob{d}$ be two objects of a category $\cat{C}$. These two objects can be seen as the image of the functor $F: \bm{2} \rightarrow \cat{C}$ where $\bm{2}$ is the \textbf{discrete category with two objects}
	(the category with two objects and no arrows except for the identity arrows). The functor $F$ sends the one element of $\bm{2}$ to $\ob{c}$ and the other to $\ob{d}$.
	The \textbf{product} of $\ob{c}$ and $\ob{d}$ is the limit of the category of cones over $F$.
	I.e. it is an object $\ob{e}$ together with two morphisms $p: \ob{e} \rightarrow \ob{c}$ and $q: \ob{e} \rightarrow \ob{d}$ such that for any other such object $\ob{e}'$ and morphisms $p'$ and $q'$ there is a unique morphism $m$ that factorizes $p'$ and $q'$.
	In diagrams this looks as follows:
	\begin{tikzcd}
		& \ob{e}' \arrow[ddl, "p'" left, near start] \arrow{d}[description]{\exists ! m} \arrow[ddr, "q'"] \\
		& \ob{e} \arrow[dl, "p"] \arrow[dr, "q" left] \\
		\ob{c} & & \ob{d}
	\end{tikzcd}
	The morphisms $p$ and $q$ are called the \textbf{projections} of the product.
	Its \textbf{coproduct} of $\ob{c}$ and $\ob{d}$ is the colimit of this functor $F$. (Write out the diagram yourself.)
\end{example}

\begin{example}
	Let $\bar{\bm{2}}$ be the category
	\begin{tikzcd}
		%\ob{x} \rar[start anchor=real east, end anchor=real west]{a} \rar[start anchor=base east, end anchor=base west, swap]{b} & \ob{y}
		\ob{x} \arrow[bend left]{r}{a} \arrow[bend right]{r}[below]{b} & \ob{y}
	\end{tikzcd}.
	A functor $\bar{\bm{2}} \rightarrow \cat{C}$ is basically a parallel pair of morphisms $f,g: \ob{a} \rightarrow \ob{b}$ in $\cat{C}$. And a cone for this functor is basically a diagram
	\begin{tikzcd}
		& \ob{d} \arrow[ld, "\mu_\ob{a}" left, near start] \arrow[rd, "\mu_\ob{b}"] \\
		\ob{a} \arrow[bend left]{rr}{f} \arrow[bend right]{rr}[below]{g} & & \ob{b}
	\end{tikzcd}
	but $\mu_\ob{b} = f\mu_\ob{a} = g\mu_\ob{a}$ so this arrow is usually omitted, leaving the following diagram:
	\begin{tikzcd}
		\ob{d} \arrow[r, "\mu_\ob{a}"] & \ob{a} \arrow[bend left]{r}{f} \arrow[bend right]{r}[below]{g} & \ob{b}
	\end{tikzcd}.
	The limit in this category of cones (I.e. the object $\ob{d}$ and morphism $\mu_\ob{a}$) is called the \textbf{equalizer} of the pair $f$ and $g$.
	The definition of the \textbf{co equalizer} follows automatically.
\end{example}

\begin{lemma}
	Every equalizer is a monomorpism.

	Covariantly: every coequalizer is epi.
\end{lemma}

\begin{lemma}
	let \begin{tikzcd} \ob{d} \arrow[r, "\mu_\ob{a}"] & \ob{a} \arrow[bend left]{r}{f} \arrow[bend right]{r}[below]{g} & \ob{b} \end{tikzcd}
	be an equalizer diagram. Then $\mu_\ob{a}$ is an isomorphism iff $f=g$.

	Covariantly: a coequalizer is iso iff $f=g$.
\end{lemma}

\begin{definition}
	Every monomorphism $f: \ob{a} \rightarrow \ob{b}$ which is part of some equalizer diagram
	\begin{tikzcd} \ob{a} \arrow[r, "f"] & \ob{b} \arrow[bend left]{r}{g} \arrow[bend right]{r}[below]{h} & \ob{c} \end{tikzcd} is called \textbf{regular mono}.
	The definition of a \textbf{regular epi} follows automatically.
\end{definition}

\begin{lemma}
	If $f$ is regular mono and epi, it is iso. Also every split mono is regular.
\end{lemma}

\begin{example}
	A \textbf{pullback} is the limiting cone in the category of cones over a diagram like this:
	\begin{tikzcd}
		\ob{a} \arrow[r, "f"] & \ob{b} & \ob{c} \arrow[l, "g"]
	\end{tikzcd}.
	Just to clarify, a cone for this diagram looks like this:
	\begin{tikzcd}
		& \ob{d} \arrow[ld, "p"] \arrow[rd, "q"] \\
		\ob{a} \arrow[rd, "f"] & & \ob{c} \arrow[ld, "g"] \\
		& \ob{b}
	\end{tikzcd}.
	(The arrow from $\ob{d}$ to $\ob{b}$ is omitted since it can be given as the composition $gq = fp$.) The co definitions of the pullback is called a \textbf{pushout}.
\end{example}

\begin{lemma}
	In the pullback diagram given above, is $f$ is mono, then $q$ is too. Similarly if $f$ is iso, then $q$ is too.

	Co-Covariantly: let
	\begin{tikzcd}
		& \ob{b} \arrow[ld, "f"] \arrow[rd, "g"] \\
		\ob{a} \arrow[rd, "p"] & & \ob{c} \arrow[ld, "q"] \\
		& \ob{d}
	\end{tikzcd} be a pushout diagram, then $f$ epi implies that $q$ is epi and $f$ regular epi implies that $q$ is regular epi.
\end{lemma}

\begin{lemma}
	Given two commuting squares
	\begin{tikzcd}
		\ob{a} \arrow[r, "b"] \arrow[d, "a"] & \ob{b} \arrow[r, "c"] \arrow[d, "f"] & \ob{c} \arrow[d, "d"] \\
		\ob{x} \arrow[r, "g"] & \ob{y} \arrow[r, "h"] & \ob{z}
	\end{tikzcd}, then the following hold:
	\begin{itemize}
		\item If both squares are pullbacks, then so is the composite. Covariantly: the composition of two pushouts is a pushout.
		\item If the right hand square and the composite are pullbacks, then so is the left hand square.
		Covariantly: if both the first square and the composition are pushouts, then so is the second square.
	\end{itemize}
\end{lemma}

\begin{lemma}
	$f: \ob{a} \rightarrow \ob{b}$ is mono iff
	\begin{tikzcd}
		\ob{a} \arrow[r, "id_\ob{a}"] \arrow[d, "id_\ob{a}"] & \ob{a} \arrow[d, "f"] \\
		\ob{a} \arrow[r, "f"] & \ob{b}
	\end{tikzcd}
	is a pullback diagram.
	Covariantly: $f$ is epi iff
	\begin{tikzcd}
		\ob{a} \arrow[r, "f"] \arrow[d, "f"] & \ob{a} \arrow[d, "id_\ob{b}"] \\
		\ob{a} \arrow[r, "id_\ob{b}"] & \ob{b}
	\end{tikzcd} is a pushout diagram.
\end{lemma}



\section{yoneda}
mention lemma and usual application of it

\section{monads, adjunctions and T-algebras}
mention relations between those, adjunctions for free and forgetfull 

%\begin{tikzcd}  
%A \arrow[r,"b"] \arrow[d,"g"] & C \arrow[r,"\alpha"] \arrow[d,"\gamma",pos=0.4,swap]& D \arrow[d,"\beta"]\\
%B \arrow[rru,"h",pos=0.7,swap] & B' \arrow[r,"\obmega"] & D'
%\end{tikzcd}







\end{document}